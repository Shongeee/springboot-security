<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>공지사항 수정</title>
    <link href="/static/css/reset.css" rel="stylesheet">
    <link href="/static/css/notice-header.css" rel="stylesheet">
    <link href="/static/css/notice.css" rel="stylesheet">
    <link href="/static/css/notice-modify.css" rel="stylesheet">
    <script src="/static/js/service/HuskyEZCreator.js" charset="utf-8"></script>
</head>
<body>
    <header>
        <nav>
            <button class="nav-list" type="button">홈</button>
            <button class="nav-list" type="button">공지사항</button>
        </nav>
        <div class="auth-items">
            <button class="auth-button signin" type="button">로그인</button>
            <button class="auth-button signup" type="button">회원가입</button>
        </div>
    </header>
    <main>
        <div class="notice-header">
            <h1 class="menu-title">작성글 수정</h1>
        </div>
        <article>
            <form enctype="multipart/form-data">
                <table class="notice-list">
                    <tr class="notice-row">
                        <th>제목</th>
                        <td><input type="text" class="notice-title"></td>
                    </tr>
                    <tr class="notice-row">
                        <td colspan="2">
                            <textarea class="smart-editor" name="ir1" id="ir1" style="width: 100%; height: 500px;"></textarea>
                        </td>
                    </tr>
                    <tr class="notice-row">
                        <td colspan="2">
                            <input type="file">
                        </td>
                    </tr>
                    <tr class="notice-row">
                        <td colspan="2">
                            <button class="notice-btn cancel" type="button">취소</button>
                            <button class="notice-btn submit" type="button">수정하기</button>
                        </td>
                    </tr>
                </table>
            </form>
        </article>
    </main>
    <script type="text/javascript">
        let oEditors = [];
        nhn.husky.EZCreator.createInIFrame({
         oAppRef: oEditors,
         elPlaceHolder: "ir1",
         sSkinURI: "/static/SmartEditor2Skin.html",
         fCreator: "createSEditor2",
         fOnAppLoad : function(){
		    oEditors.getById["ir1"].exec("PASTE_HTML", [`<p><font face="나눔고딕, NanumGothic"><span style="font-size: 24px;">스프링부트 게시글 테스트입니다</span></font></p>
                <p><font face="나눔고딕, NanumGothic"><span style="font-size: 24px;">스프링부트 게시글 테스트입니다</span></font></p>
                <p><b><u>뭐가맞는건지</u></b></p><p><b><u>잘 모르겠네여​</u></b>&nbsp;</p>`]);
	    }
        });

        const submitButton = document.querySelector(".submit");
        
        submitButton.addEventListener('click', function(){
            /* editor의 내용을 textarea로 옮겨주는 역할 */
            oEditors.getById["ir1"].exec("UPDATE_CONTENTS_FIELD", []);
            const textareaValue = document.querySelector("#ir1").value;
            alert(textareaValue);
        })
    </script>
</body>
</html>